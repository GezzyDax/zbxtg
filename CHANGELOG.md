# Changelog

Все значимые изменения в проекте будут документированы в этом файле.

Формат основан на [Keep a Changelog](https://keepachangelog.com/ru/1.0.0/),
и этот проект придерживается [Semantic Versioning](https://semver.org/lang/ru/).

## [2.0.0] - 2025-01-XX

### Добавлено

#### Тестирование и качество кода
- Полное покрытие тестами (pytest) для всех модулей
- Конфигурация для black, ruff, mypy, isort
- Pre-commit хуки для автоматической проверки кода
- Makefile для упрощения разработки
- pytest с покрытием кода (>70%)
- Конфигурация в pyproject.toml

#### CI/CD и безопасность
- GitHub Actions для автоматического тестирования и линтинга
- Dependabot для автоматического обновления зависимостей
- Bandit для проверки безопасности кода
- Safety для проверки уязвимостей в зависимостях
- Docker multi-stage build для уменьшения размера образа
- Non-root пользователь в Docker для безопасности

#### Мониторинг и наблюдаемость
- Prometheus метрики для мониторинга производительности
- Structured logging с поддержкой JSON формата
- HTTP endpoint для метрик на порту 9090
- Метрики для Zabbix API, Telegram, алертов
- Health checks в Docker и Kubernetes

#### Persistent Storage
- SQLite база данных для хранения истории алертов
- Таблицы для алертов, статистики и событий
- Автоматическая очистка старых данных
- Статистика и audit log

#### Новая функциональность
- Фильтры по группам хостов Zabbix
- Исключение определенных хостов из мониторинга
- Режим "тихих часов" (quiet hours) с настраиваемым порогом серьезности
- Inline кнопки в Telegram для быстрого перехода в Zabbix
- Поддержка множественных получателей (roadmap)

#### Kubernetes
- Полные манифесты для развертывания в Kubernetes
- Deployment с liveness/readiness probes
- ConfigMap для конфигурации
- Secrets для чувствительных данных
- PersistentVolumeClaim для хранилища
- Service для метрик Prometheus
- Подробная документация по развертыванию

### Изменено
- Обновлен Dockerfile с multi-stage build
- Улучшена обработка ошибок и retry механизм
- Расширена конфигурация через переменные окружения
- Улучшена документация (README, k8s/README)
- Обновлен .gitignore

### Исправлено
- Исправлена проблема с отображением несуществующих уведомлений
- Улучшена стабильность подключения к Zabbix
- Исправлены проблемы с SSL сертификатами

## [1.0.0] - 2024-XX-XX

### Добавлено
- Базовая функциональность мониторинга Zabbix
- Отправка уведомлений в Telegram
- Docker поддержка
- Основная документация

---

## Типы изменений
- **Добавлено** - для новой функциональности
- **Изменено** - для изменений в существующей функциональности
- **Устарело** - для функций, которые скоро будут удалены
- **Удалено** - для удаленной функциональности
- **Исправлено** - для исправления багов
- **Безопасность** - в случае уязвимостей
